<!DOCTYPE html>
<html>
    <head>
        <title>AtmosphericX - Dashboard</title>
        <meta name="viewport" content="width=device-width initial-scale=0.5, maximum-scale=0.5, user-scalable=no minimal-ui">
        <link rel="stylesheet" href="../assets/styles/cDashboard.css">
        <link rel="stylesheet" href="../assets/styles/cEditor.css">
        <link rel="stylesheet" href="../../assets/styles/cVariables.css">
        <link rel="stylesheet" href="../../assets/styles/cGraphics.css">
        <link rel="icon" href="/assets/media/dashboard/atmosx-logo-vector.ico" type="image/x-icon">
        <script src="../assets/javascript/cLibrary.js"></script>
        <script src="../assets/javascript/cDashboard/cCore.js"></script>
        <script src="../assets/javascript/cDashboard/cEditor.js"></script>
        <script src="../assets/javascript/cDashboard/cGraphics.js"></script>
        <script src="../assets/javascript/cAlerts.js"></script>
        <script src="../../assets/javascript/cStatic.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    </head>
    <body id="_body.base">   
        <div class="header">
            <div class="header-center">
                <span class="data-card-headline"></span>
            </div>
            <div class="header-right">
                <p>Project AtmosphericX <small><span id='version'></span></small></p>
            </div>
        </div>
        <i class="hamburger-menu fa fa-bars" id="hamburger"></i>
        <div class="interactive-sidebar"  data-state="closed">
            <img src="/assets/media/dashboard/atmosx-logo-vector.webp" alt="Logo" class="sidebar-logo">
            <footer class="sidebar-subtitle">
                <small>Made with ‚ù§Ô∏è by k3yomi & Starflight</small>
            </footer>
            <hr class="sidebar-hr">
            <div id="_sidebar.data"></div>
        </div>
        <div class="wrapper">
            <div id="notification-container" class="notification-container"></div>
            <div id="_navigation.home" style="display: block;" type="menu">
                <div class="grid-area" data-original-grid-template-columns="1" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card"> 
                        <h1 class="data-card-title">üëã Welcome to AtmosphericX, <span id="_home.accountname">[Account Name]</span></h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description">
                            Project AtmosphericX is a web-based platform and widget manager tailored for amateur weather enthusiasts, storm chasers, and anyone passionate about understanding and tracking severe weather events. It provides near real-time alerts and updates, ensuring users stay informed about critical weather conditions as they unfold.
                            Whether you‚Äôre streaming, chasing, or just keeping an eye on the weather, AtmosphericX has you covered with the data you need.
                        </p>
                    </div>
                </div>

                <div class="grid-area" id="._nonchild_atmosx_dashboard" data-original-grid-template-columns="2" style="grid-template-columns: repeat(2, 1fr);">
                    <div class="data-card"> 
                        <h1 class="data-card-title">Demo Video</h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description">
                        <iframe class="iframe-youtube" src="https://www.youtube.com/embed/CQeA9cGQZvw" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
                            Your browser does not support iframes. Please visit <a href="https://www.youtube.com/watch?v=CQeA9cGQZvw" target="_blank">this link</a> to view the video.
                        </iframe>
                        </p>
                    </div>
                    <div class="data-card"> 
                        <h1 class="data-card-title">Join our Discord!</h1>
                        <hr class="data-card-hr"> 
                        <center><iframe src="https://discord.com/widget?id=1358154190437744730&theme=dark" class='iframe-discord' allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe></center>
                    </div>
                </div>
                <div class="grid-area" data-original-grid-template-columns="1" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card"> 
                        <h1 class="data-card-title">Latest Changelogs</h1>
                        <hr class="data-card-hr"> 
                        <p class="data-card-description" id="atmosx.header.https"></p>
                    </div>
                </div>
            </div>
            <div id="_navigation.alerts" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Warnings & Advisories</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_alerts.recent_alerts" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Search Alerts</span></h1>
                        <hr class="data-card-hr"> 
                        <input class="popup-input" id="_alerts.alert_search" style="width: 50%; margin-top: 5px;" placeholder="Search for alerts, locations, and or any tag indicator" onkeyup="dashboard_class.spawnAlertCards(undefined, false, undefined, document.getElementById('_alerts.alert_search').value)"><br><br>
                        <div id="child_atmosx_alerts.global_alerts" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>                   
                    </div>
                   
                </div>
            </div>
            <div id="_navigation.lsr" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Local Storm Reports</span></h1>
                        <hr class="data-card-hr"> 
                        <small>Search for Local Storm Reports</small><br>
                        <input class="popup-input" id="_lsr.reports_search" style="width: 50%; margin-top: 5px;" placeholder="" onkeyup="dashboard_class.spawnStormReports(undefined, undefined, document.getElementById('_lsr.reports_search').value)"><br><br>
                        <div id="child_atmosx_lsr.reports" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr)"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.dicussions" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Mesoscale Discussions</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_discussions.mesoscale" class="grid-area" data-original-grid-template-columns="1" style="grid-template-columns: repeat(1, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.spc" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Storm Prediction Center</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub_spc.models" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.spotternetwork" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Active Spotter Network</span></h1>
                        <hr class="data-card-hr"> 
                        <small>Search for Spotters</small><br>
                        <input class="popup-input" id="_spotternetwork.spotter_search" style="width: 50%; margin-top: 5px;" placeholder="Search Spotters" oninput="dashboard_class.spawnStormSpotterNetwork(undefined, undefined, this.value)"><br><br>
                        <div id="child_atmosx_spotternetwork.general" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.external" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Third-Party Services</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub_external.services" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.forecasts" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Forecasting Models</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub.forecasts" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.radio" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Online NOAA Radio</span></h1>
                        <hr class="data-card-hr"> 
                        <small>Search Stations</small><br>
                        <input class="popup-input" id="_noaa_radio_communications.radio_search" style="width: 50%; margin-top: 5px;" placeholder="Search Stations" oninput="dashboard_class.spawnRadioServices(undefined, undefined, this.value)"><br><br>
                        <div id="hub_radio.noaa" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>

            <div id="_navigation.nwws" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">NOAA Weather Wire Service</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_nwws.reports" class="grid-area" data-original-grid-template-columns="2" style="grid-template-columns: repeat(2, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.torProbability" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Tornado Probability Statistics</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_tor.statistics" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.svrProbability" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Severe Probability Statistics</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_svr.statistics" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.mesonetdata" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Current Mesonet Data</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="child_atmosx_mesonet.statistics" class="grid-area" data-original-grid-template-columns="1" style="grid-template-columns: repeat(1, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.help" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">General Information</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub.plugins" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.configurations" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">Live Configurations</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub.configurations" class="grid-area" data-original-grid-template-columns="3" style="grid-template-columns: repeat(3, 1fr);"></div>
                    </div>
                </div>
            </div>
            <div id="_navigation.system" style="display: none;" type="menu">
                <div class="grid-parent" style="grid-template-columns: repeat(1, 1fr);">
                    <div class="data-card-parent"> 
                        <h1 class="data-card-title">System Settings</span></h1>
                        <hr class="data-card-hr"> 
                        <div id="hub.system" class="grid-area" data-original-grid-template-columns="1" style="grid-template-columns: repeat(1, 1fr);"></div>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
        let dashboard_class;
        let graphics_class; 
        let alert_class;
        let library = new Library()
        library.detectMobileDevice()
        library.createWebsocketSession([`mesonet`, `occupants`, `metrics`, `wxRadio`, `updates`, `torprob`, `svrprob`, `public`, `active`, `discussions`, `notifications`, `header`, `reports`, `spotters`, `manual`, `wire`, `random`]).then(async () => {
            alert_class = new Alerts(library)
            cfg_class = new CfgEditor(library)
            graphics_class = new Graphics(library)
            dashboard_class = new Dashboard(library, true)
            document.getElementById('hamburger').onclick = function() { dashboard_class.triggerHamburgerListener() };
            document.addEventListener('onCacheUpdate', async (event) => {
                let storage = alert_class.syncAlerts(true)
                if (storage.length > 0 && library.storage.sounds == true) { await alert_class.triggerAlertQueue() }
                await dashboard_class.updateThread()
            })
        })
    </script>
</html>